{"version":3,"file":"worker.js","mappings":"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","sources":["webpack://tessellation-webgl/./src/ts/engine/engine.ts","webpack://tessellation-webgl/./src/ts/engine/tree-node.ts","webpack://tessellation-webgl/./src/ts/misc/arithmetics.ts","webpack://tessellation-webgl/./src/ts/misc/color.ts","webpack://tessellation-webgl/./src/ts/misc/rectangle.ts","webpack://tessellation-webgl/./src/ts/misc/throttle.ts","webpack://tessellation-webgl/./src/ts/misc/zoom.ts","webpack://tessellation-webgl/./src/ts/page-interface-generated.ts","webpack://tessellation-webgl/./src/ts/plotter/geometry-id.ts","webpack://tessellation-webgl/./src/ts/plotter/plotter-svg.ts","webpack://tessellation-webgl/./src/ts/primitives/primitive-base.ts","webpack://tessellation-webgl/./src/ts/primitives/primitive-quads.ts","webpack://tessellation-webgl/./src/ts/primitives/primitive-triangles-nested.ts","webpack://tessellation-webgl/./src/ts/primitives/primitive-triangles.ts","webpack://tessellation-webgl/./src/ts/primitives/primitive-type-enum.ts","webpack://tessellation-webgl/./src/ts/worker/messages/from-worker/messages.ts","webpack://tessellation-webgl/./src/ts/worker/messages/from-worker/new-metrics.ts","webpack://tessellation-webgl/./src/ts/worker/messages/from-worker/new-svg-output.ts","webpack://tessellation-webgl/./src/ts/worker/messages/message.ts","webpack://tessellation-webgl/./src/ts/worker/messages/to-worker/download-as-svg-message.ts","webpack://tessellation-webgl/./src/ts/worker/messages/to-worker/messages.ts","webpack://tessellation-webgl/./src/ts/worker/messages/to-worker/recompute-color-message.ts","webpack://tessellation-webgl/./src/ts/worker/messages/to-worker/reset-message.ts","webpack://tessellation-webgl/./src/ts/worker/messages/to-worker/update-message.ts","webpack://tessellation-webgl/./src/ts/worker/worker-engine.ts","webpack://tessellation-webgl/./src/ts/worker/worker.ts","webpack://tessellation-webgl/webpack/bootstrap","webpack://tessellation-webgl/webpack/before-startup","webpack://tessellation-webgl/webpack/startup","webpack://tessellation-webgl/webpack/after-startup"],"sourcesContent":["import { Color } from \"../misc/color\";\r\nimport { Rectangle } from \"../misc/rectangle\";\r\nimport { Throttle } from \"../misc/throttle\";\r\nimport { Zoom } from \"../misc/zoom\";\r\nimport { GeometryId } from \"../plotter/geometry-id\";\r\nimport { BatchOfLines, IBatch } from \"../plotter/types\";\r\nimport { EVisibility, PrimitiveBase } from \"../primitives/primitive-base\";\r\nimport { PrimitiveQuads } from \"../primitives/primitive-quads\";\r\nimport { PrimitiveTriangles } from \"../primitives/primitive-triangles\";\r\nimport { PrimitiveTrianglesNested } from \"../primitives/primitive-triangles-nested\";\r\nimport { EPrimitiveType } from \"../primitives/primitive-type-enum\";\r\nimport { IEngineMetrics } from \"./engine-metrics\";\r\n\r\nimport \"../page-interface-generated\";\r\n\r\n\r\ntype BatchOfPrimitives = IBatch<PrimitiveBase>;\r\n\r\ninterface ILayer {\r\n    primitives: BatchOfPrimitives;\r\n    outlines: BatchOfLines;\r\n    readonly birthTimestamp: number;\r\n}\r\n\r\nabstract class Engine {\r\n    private rootPrimitive: PrimitiveBase;\r\n    protected layers: ILayer[];\r\n\r\n    protected readonly cumulatedZoom: Zoom;\r\n    private readonly maintainanceThrottle: Throttle;\r\n\r\n    public constructor() {\r\n        this.reset(new Rectangle(0, 512, 0, 512), EPrimitiveType.TRIANGLES);\r\n        this.cumulatedZoom = Zoom.noZoom();\r\n        this.maintainanceThrottle = new Throttle(100);\r\n    }\r\n\r\n    public update(viewport: Rectangle, instantZoom: Zoom, wantedDepth: number, subdivisionBalance: number, colorVariation: number): boolean {\r\n        let somethingChanged = false;\r\n\r\n        this.cumulatedZoom.combineWith(instantZoom);\r\n\r\n        const maintainance = () => {\r\n            somethingChanged = this.applyCumulatedZoom() || somethingChanged;\r\n            somethingChanged = this.adjustLayersCount(wantedDepth, subdivisionBalance, colorVariation) || somethingChanged;\r\n            somethingChanged = this.handleRecycling(viewport) || somethingChanged;\r\n\r\n            if (somethingChanged) {\r\n                for (const layer of this.layers) {\r\n                    layer.primitives.geometryId.registerChange();\r\n                    layer.outlines.geometryId.registerChange();\r\n                }\r\n            }\r\n\r\n            this.updateIndicators();\r\n        };\r\n\r\n        // don't do maintainance too often because it is costly\r\n        this.maintainanceThrottle.runIfAvailable(maintainance);\r\n\r\n        return somethingChanged;\r\n    }\r\n\r\n    public reset(viewport: Rectangle, primitiveType: EPrimitiveType): void {\r\n        if (primitiveType === EPrimitiveType.QUADS) {\r\n            this.rootPrimitive = new PrimitiveQuads(\r\n                { x: viewport.left, y: viewport.top },\r\n                { x: viewport.right, y: viewport.top },\r\n                { x: viewport.left, y: viewport.bottom },\r\n                { x: viewport.right, y: viewport.bottom },\r\n                this.computeRootPrimitiveColor(),\r\n            );\r\n        } else if (primitiveType === EPrimitiveType.TRIANGLES) {\r\n            this.rootPrimitive = new PrimitiveTriangles(\r\n                { x: viewport.left, y: viewport.bottom },\r\n                { x: viewport.right, y: viewport.bottom },\r\n                { x: 0, y: viewport.top },\r\n                this.computeRootPrimitiveColor(),\r\n            );\r\n        } else {\r\n            this.rootPrimitive = new PrimitiveTrianglesNested(\r\n                { x: viewport.left, y: viewport.bottom },\r\n                { x: viewport.right, y: viewport.bottom },\r\n                { x: 0, y: viewport.top },\r\n                this.computeRootPrimitiveColor(),\r\n            );\r\n        }\r\n\r\n        this.layers = [{\r\n            primitives: {\r\n                items: [this.rootPrimitive],\r\n                geometryId: GeometryId.new(),\r\n            },\r\n            outlines: {\r\n                items: [this.rootPrimitive.getOutline()],\r\n                geometryId: GeometryId.new(),\r\n            },\r\n            birthTimestamp: performance.now(),\r\n        }];\r\n        this.updateIndicators();\r\n    }\r\n\r\n    public recomputeColors(colorVariation: number): void {\r\n        const newColor = this.computeRootPrimitiveColor();\r\n        this.rootPrimitive.setColor(newColor, colorVariation);\r\n\r\n        // The colors of the primitive in the VBO so we need to reupload it.\r\n        for (const layer of this.layers) {\r\n            layer.primitives.geometryId.registerChange();\r\n        }\r\n    }\r\n\r\n    protected computeMetrics(): IEngineMetrics {\r\n        const treeDepth = this.rootPrimitive.treeDepth();\r\n        const lastLayerPrimitivesCount = this.layers[this.layers.length - 1].primitives.items.length;\r\n        let totalPrimitivesCount = 0;\r\n        let segmentsCount = 0;\r\n\r\n        for (const layer of this.layers) {\r\n            totalPrimitivesCount += layer.primitives.items.length;\r\n\r\n            for (const line of layer.outlines.items) {\r\n                const nbLinePoints = line.length;\r\n                segmentsCount += (nbLinePoints > 1) ? (nbLinePoints - 1) : 0;\r\n            }\r\n        }\r\n\r\n        return {\r\n            treeDepth,\r\n            lastLayerPrimitivesCount,\r\n            totalPrimitivesCount,\r\n            segmentsCount,\r\n        };\r\n    }\r\n\r\n    protected abstract updateIndicators(): void;\r\n\r\n    private computeRootPrimitiveColor(): Color {\r\n        const minLuminosity = 0.3;\r\n        const maxLuminosity = 0.7;\r\n        const maxNbTries = 10;\r\n\r\n        let bestColor = Color.random();\r\n\r\n        for (let iTry = 0; iTry < maxNbTries; iTry++) {\r\n            const luminosity = bestColor.luminosity;\r\n            if (luminosity < minLuminosity) {\r\n                const newCandidate = Color.random();\r\n                if (newCandidate.luminosity > luminosity) {\r\n                    bestColor = newCandidate;\r\n                }\r\n            } else if (luminosity > maxLuminosity) {\r\n                const newCandidate = Color.random();\r\n                if (newCandidate.luminosity < luminosity) {\r\n                    bestColor = newCandidate;\r\n                }\r\n            } else {\r\n                break;\r\n            }\r\n        }\r\n        return bestColor;\r\n    }\r\n\r\n    private applyCumulatedZoom(): boolean {\r\n        let appliedZoom = false;\r\n\r\n        if (this.cumulatedZoom.isNotNull()) {\r\n            this.rootPrimitive.zoom(this.cumulatedZoom, true);\r\n            appliedZoom = true;\r\n        }\r\n\r\n        // reset the cumulated zooming\r\n        this.cumulatedZoom.reset();\r\n\r\n        return appliedZoom;\r\n    }\r\n\r\n    private handleRecycling(viewport: Rectangle): boolean {\r\n        if (this.rootPrimitive.computeVisibility(viewport) === EVisibility.OUT_OF_VIEW) {\r\n            this.reset(viewport, this.primitiveType);\r\n            return true;\r\n        } else {\r\n            const prunedPrimitives = this.prunePrimitivesOutOfView(this.rootPrimitive, viewport);\r\n            const changedRootPrimitive = this.changeRootPrimitiveInNeeded();\r\n\r\n            if (prunedPrimitives) {\r\n                this.rebuildLayersCollections();\r\n                return true;\r\n            }\r\n\r\n            return changedRootPrimitive || prunedPrimitives;\r\n        }\r\n    }\r\n\r\n    private adjustLayersCount(wantedDepth: number, subdivisionBalance: number, colorVariation: number): boolean {\r\n        const lastLayer = this.layers[this.layers.length - 1];\r\n        const idealPrimitivesCountForLastLayer = Math.pow(2, wantedDepth - 1);\r\n        const currentPrimitivesCountForLastLayer = lastLayer.primitives.items.length;\r\n\r\n        const subdivisionFactor = this.rootPrimitive.subdivisionFactor;\r\n        if (currentPrimitivesCountForLastLayer <= idealPrimitivesCountForLastLayer / subdivisionFactor) {\r\n            // subdivide once more\r\n            const primitivesOfNewLayer: BatchOfPrimitives = {\r\n                items: [],\r\n                geometryId: GeometryId.new(),\r\n            };\r\n            const outlinesOfNewLayer: BatchOfLines = {\r\n                items: [],\r\n                geometryId: GeometryId.new(),\r\n            };\r\n\r\n            for (const primitive of lastLayer.primitives.items) {\r\n                primitive.subdivide(subdivisionBalance, colorVariation);\r\n                Array.prototype.push.apply(primitivesOfNewLayer.items, primitive.getDirectChildren() as PrimitiveBase[]);\r\n                outlinesOfNewLayer.items.push(primitive.subdivision);\r\n            }\r\n\r\n            this.layers.push({\r\n                primitives: primitivesOfNewLayer,\r\n                outlines: outlinesOfNewLayer,\r\n                birthTimestamp: performance.now()\r\n            });\r\n        } else if (currentPrimitivesCountForLastLayer >= subdivisionFactor * idealPrimitivesCountForLastLayer) {\r\n            // remove last subdivision\r\n            for (const primitive of lastLayer.primitives.items) {\r\n                primitive.removeChildren();\r\n            }\r\n            this.layers.pop();\r\n        } else { // nothing to do\r\n            return false;\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    private changeRootPrimitiveInNeeded(): boolean {\r\n        const directChildrenOfRoot = this.rootPrimitive.getDirectChildren();\r\n        if (directChildrenOfRoot.length === 1) {\r\n            this.rootPrimitive = directChildrenOfRoot[0] as PrimitiveBase;\r\n            this.layers.shift();\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    private prunePrimitivesOutOfView(primitive: PrimitiveBase, viewport: Rectangle): boolean {\r\n        let changedSomething = false;\r\n\r\n        const directChildren = primitive.getDirectChildren() as PrimitiveBase[];\r\n        for (const child of directChildren) {\r\n            const visibility = child.computeVisibility(viewport);\r\n            if (visibility === EVisibility.OUT_OF_VIEW) {\r\n                primitive.removeChild(child);\r\n                changedSomething = true;\r\n            } else if (visibility === EVisibility.VISIBLE) {\r\n                // if it is partially visible, some of its children may be completely out of view\r\n                if (this.prunePrimitivesOutOfView(child, viewport)) {\r\n                    changedSomething = true;\r\n                }\r\n            }\r\n        }\r\n\r\n        return changedSomething;\r\n    }\r\n\r\n    private rebuildLayersCollections(): void {\r\n        for (let iLayer = 0; iLayer < this.layers.length; iLayer++) {\r\n            const primitives: BatchOfPrimitives = {\r\n                items: this.rootPrimitive.getChildrenOfDepth(iLayer) as PrimitiveBase[],\r\n                geometryId: GeometryId.new(),\r\n            };\r\n\r\n\r\n            const outlines: BatchOfLines = {\r\n                items: [],\r\n                geometryId: GeometryId.new(),\r\n            };\r\n            if (iLayer === 0) {\r\n                outlines.items.push(this.rootPrimitive.getOutline());\r\n            } else {\r\n                const primitivesOfParentLayer = this.layers[iLayer - 1].primitives;\r\n                for (const primitive of primitivesOfParentLayer.items) {\r\n                    outlines.items.push(primitive.subdivision);\r\n                }\r\n            }\r\n\r\n            this.layers[iLayer].primitives = primitives;\r\n            this.layers[iLayer].outlines = outlines;\r\n        }\r\n    }\r\n\r\n    private get primitiveType(): EPrimitiveType {\r\n        return this.rootPrimitive.primitiveType;\r\n    }\r\n}\r\n\r\nexport { Engine };\r\n\r\n","class TreeNode {\r\n    private readonly children: TreeNode[] = [];\r\n\r\n    private subDepthsCache: TreeNode[][] = [];\r\n    private parent: TreeNode = null;\r\n\r\n    public treeDepth(): number {\r\n        if (this.children.length > 0) {\r\n            return this.children[0].treeDepth() + 1;\r\n        }\r\n        return 1;\r\n    }\r\n\r\n    public getDirectChildren(): TreeNode[] {\r\n        return this.getChildrenOfDepth(1);\r\n    }\r\n\r\n    public getChildrenOfDepth(depth: number): TreeNode[] {\r\n        if (depth < 0) {\r\n            return [];\r\n        }\r\n\r\n        if (typeof this.subDepthsCache[depth] !== \"undefined\") {\r\n            return this.subDepthsCache[depth];\r\n        }\r\n\r\n        // no cache => build it\r\n        let result: TreeNode[];\r\n        if (depth === 0) {\r\n            result = [this];\r\n        } else {\r\n            result = [];\r\n            for (const child of this.children) {\r\n                const subchildren = child.getChildrenOfDepth(depth - 1);\r\n                if (subchildren.length > 0) {\r\n                    result = result.concat(subchildren);\r\n                }\r\n            }\r\n        }\r\n\r\n        this.subDepthsCache[depth] = result;\r\n        return result;\r\n    }\r\n\r\n    public removeChild(child: TreeNode): void {\r\n        for (let iC = this.children.length - 1; iC >= 0; iC--) {\r\n            if (this.children[iC] === child) {\r\n                this.children[iC].parent = null;\r\n                this.children.splice(iC, 1);\r\n                this.onSubtreeChange(1);\r\n                return;\r\n            }\r\n        }\r\n\r\n        throw new Error(\"Cannot remove an unknown child.\");\r\n    }\r\n\r\n    protected addChildren(...newChildren: TreeNode[]): void {\r\n        if (newChildren.length > 0) {\r\n            for (const newChild of newChildren) {\r\n                if (newChild.parent) {\r\n                    throw new Error(\"Cannot attach a tree node that already has a parent.\");\r\n                }\r\n                newChild.parent = this;\r\n            }\r\n            Array.prototype.push.apply(this.children, newChildren);\r\n            this.onSubtreeChange(1);\r\n        }\r\n    }\r\n\r\n    protected removeChildren(): void {\r\n        for (const child of this.children) {\r\n            child.parent = null;\r\n        }\r\n\r\n        this.children.length = 0;\r\n        this.onSubtreeChange(1);\r\n    }\r\n\r\n    public onSubtreeChange(invalidatedLevel: number): void {\r\n        // remove all caches for levels lower or equal than the one that changed\r\n        if (this.subDepthsCache.length >= invalidatedLevel + 1) {\r\n            this.subDepthsCache.length = invalidatedLevel;\r\n        }\r\n\r\n        if (this.parent) {\r\n            this.parent.onSubtreeChange(invalidatedLevel + 1);\r\n        }\r\n    }\r\n}\r\n\r\nexport {\r\n    TreeNode,\r\n};\r\n","import { IPoint } from \"./point\";\r\n\r\n\r\nfunction areSameSign(a: number, b: number, c: number): boolean {\r\n    return a * b >= 0 && a * c >= 0;\r\n}\r\n\r\nfunction getSide(p1: IPoint, p2: IPoint, p3: IPoint): number {\r\n    return (p3.x - p1.x) * -(p2.y - p1.y) + (p3.y - p1.y) * (p2.x - p1.x);\r\n}\r\n\r\nfunction interpolate(a: number, b: number, x: number): number {\r\n    return (1 - x) * a + x * b;\r\n}\r\n\r\nfunction interpolatePoint(p1: IPoint, p2: IPoint, x: number): IPoint {\r\n    return {\r\n        x: interpolate(p1.x, p2.x, x),\r\n        y: interpolate(p1.y, p2.y, x),\r\n    };\r\n}\r\n\r\nfunction random(from: number, to: number): number {\r\n    return from + (to - from) * Math.random();\r\n}\r\n\r\n\r\nfunction squaredDistance(p1: IPoint, p2: IPoint): number {\r\n    const dx = p1.x - p2.x;\r\n    const dy = p1.y - p2.y;\r\n    return dx * dx + dy * dy;\r\n}\r\n\r\nexport {\r\n    areSameSign,\r\n    getSide,\r\n    interpolatePoint,\r\n    random,\r\n    squaredDistance,\r\n};\r\n","function registerPadStartPolyfill(): void {\r\n    if (typeof String.prototype.padStart !== \"function\") {\r\n        String.prototype.padStart = function padStart(maxLength: number, fillString?: string): string {\r\n            if (this.length > maxLength) {\r\n                return String(this);\r\n            }\r\n\r\n            if (!fillString) {\r\n                fillString = \" \";\r\n            }\r\n\r\n            const nbRepeats = Math.ceil((maxLength - this.length) / fillString.length);\r\n            let result = \"\";\r\n            for (let i = 0; i < nbRepeats; i++) {\r\n                result += fillString;\r\n            }\r\n            return result + this;\r\n        };\r\n    }\r\n}\r\nregisterPadStartPolyfill(); // for IE11\r\n\r\nclass Color {\r\n    public static readonly BLACK: Color = new Color(0, 0, 0);\r\n    public static readonly WHITE: Color = new Color(255, 255, 255);\r\n    public static readonly RED: Color = new Color(255, 0, 0);\r\n    public static readonly GREEN: Color = new Color(0, 255, 0);\r\n\r\n    public static random(): Color {\r\n        return new Color(Color.randomChannel(), Color.randomChannel(), Color.randomChannel());\r\n    }\r\n\r\n    public static rehydrate(dehydrated: Color): Color {\r\n        return new Color(dehydrated.r, dehydrated.g, dehydrated.b);\r\n    }\r\n\r\n    /** @param r in [0, 255]\r\n     *  @param g in [0, 255]\r\n     *  @param b in [0, 255]\r\n     */\r\n    public constructor(public r: number, public g: number, public b: number) { }\r\n\r\n    public toHexaString(): string {\r\n        if (!this.hexString) {\r\n            const rHex = this.r.toString(16).padStart(2, \"0\");\r\n            const gHex = this.g.toString(16).padStart(2, \"0\");\r\n            const bHex = this.b.toString(16).padStart(2, \"0\");\r\n            this.hexString = `#${rHex}${gHex}${bHex}`;\r\n        }\r\n\r\n        return this.hexString;\r\n    }\r\n\r\n    public toRgbaString(alpha: number): string {\r\n        return `rgba(${this.r}, ${this.g}, ${this.b}, ${alpha})`;\r\n    }\r\n\r\n    public computeCloseColor(colorVariation: number): Color {\r\n        return new Color(\r\n            Color.computeCloseChannelValue(this.r, colorVariation),\r\n            Color.computeCloseChannelValue(this.g, colorVariation),\r\n            Color.computeCloseChannelValue(this.b, colorVariation),\r\n        );\r\n    }\r\n\r\n    public get luminosity(): number {\r\n        return (0.299 * this.r + 0.587 * this.g + 0.114 * this.b) / 255;\r\n    }\r\n\r\n    private static randomChannel(): number {\r\n        return Math.floor(256 * Math.random());\r\n    }\r\n\r\n    private static computeCloseChannelValue(referenceValue: number, variation: number): number {\r\n        const raw = referenceValue + Math.round(variation * (Math.random() - 0.5));\r\n        if (raw < 0) {\r\n            return 0;\r\n        } else if (raw > 255) {\r\n            return 255;\r\n        }\r\n        return raw;\r\n    }\r\n\r\n    private hexString: string;\r\n}\r\n\r\nexport { Color };\r\n","import { IPoint } from \"./point\";\r\n\r\n\r\nclass Rectangle {\r\n    public static rehydrate(dehydrated: Rectangle): Rectangle {\r\n        return new Rectangle(dehydrated.topLeft.x, dehydrated.bottomRight.x, dehydrated.topLeft.y, dehydrated.bottomRight.y);\r\n    }\r\n\r\n    public readonly topLeft: IPoint;\r\n    public readonly bottomRight: IPoint;\r\n\r\n    public constructor(left: number, right: number, top: number, bottom: number) {\r\n        this.topLeft = { x: left, y: top };\r\n        this.bottomRight = { x: right, y: bottom };\r\n    }\r\n\r\n    public containsPoint(point: IPoint): boolean {\r\n        return (point.x >= this.topLeft.x && point.x <= this.bottomRight.x) &&\r\n            (point.y >= this.topLeft.y && point.y <= this.bottomRight.y);\r\n    }\r\n\r\n    public lineIntersectsBoundaries(p1: IPoint, p2: IPoint): boolean {\r\n        // Let's define a boundary by the segment between points D1 and D2\r\n        // we will try to find lambdaP and lambdaD in [0, 1] such as\r\n        // P1 + lambdaP * (P2 - P1) = D1 + lambdaD * (D2 - D1)\r\n\r\n        const vPx = p2.x - p1.x;\r\n        const vPy = p2.y - p1.y;\r\n\r\n        const width = this.width;\r\n        const height = this.height;\r\n        if (vPx !== 0) { // line is not vertical, so test the vertical boundaries\r\n            { // left boundary\r\n\r\n                const lambdaP = (this.left - p1.x) / vPx;\r\n                if (lambdaP >= 0 && lambdaP <= 1) {\r\n                    const lambdaD = (p1.y + lambdaP * vPy - this.top) / height;\r\n                    if (lambdaD >= 0 && lambdaD <= 1) {\r\n                        return true;\r\n                    }\r\n                }\r\n            }\r\n            { // right boundary\r\n\r\n                const lambdaP = (this.right - p1.x) / vPx;\r\n                if (lambdaP >= 0 && lambdaP <= 1) {\r\n                    const lambdaD = (p1.y + lambdaP * vPy - this.top) / height;\r\n                    if (lambdaD >= 0 && lambdaD <= 1) {\r\n                        return true;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        if (vPy !== 0) { // line is not horizontal, so test the horizontal boundaries\r\n            { // top boundary\r\n                const lambdaP = (this.top - p1.y) / vPy;\r\n                if (lambdaP >= 0 && lambdaP <= 1) {\r\n                    const lambdaD = (p1.x + lambdaP * vPx - this.left) / width;\r\n                    if (lambdaD >= 0 && lambdaD <= 1) {\r\n                        return true;\r\n                    }\r\n                }\r\n            }\r\n            { // bototm boundary\r\n                const lambdaP = (this.bottom - p1.y) / vPy;\r\n                if (lambdaP >= 0 && lambdaP <= 1) {\r\n                    const lambdaD = (p1.x + lambdaP * vPx - this.left) / width;\r\n                    if (lambdaD >= 0 && lambdaD <= 1) {\r\n                        return true;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    public get width(): number {\r\n        return this.bottomRight.x - this.topLeft.x;\r\n    }\r\n    public get height(): number {\r\n        return this.bottomRight.y - this.topLeft.y;\r\n    }\r\n\r\n    public get left(): number {\r\n        return this.topLeft.x;\r\n    }\r\n    public get right(): number {\r\n        return this.bottomRight.x;\r\n    }\r\n    public get top(): number {\r\n        return this.topLeft.y;\r\n    }\r\n    public get bottom(): number {\r\n        return this.bottomRight.y;\r\n    }\r\n}\r\n\r\nexport { Rectangle };\r\n","class Throttle {\r\n    private lastRunTimestamp: number;\r\n\r\n    public constructor(private readonly minimumDistanceBetweenRuns: number) {\r\n        this.reset();\r\n    }\r\n\r\n    public reset(): void {\r\n        this.lastRunTimestamp = performance.now();\r\n    }\r\n\r\n    public runIfAvailable(operation: () => unknown): void {\r\n        const now = performance.now();\r\n        if (now - this.lastRunTimestamp > this.minimumDistanceBetweenRuns) {\r\n            operation();\r\n            this.lastRunTimestamp = now;\r\n        }\r\n    }\r\n}\r\n\r\nexport {\r\n    Throttle,\r\n};\r\n","import { IPoint } from \"./point\";\r\n\r\nclass Zoom {\r\n    public static noZoom(): Zoom {\r\n        return new Zoom({ x: 0, y: 0 }, 1);\r\n    }\r\n\r\n    public static rehydrate(dehydrated: Zoom): Zoom {\r\n        const result = new Zoom({ x: 0, y: 0 }, 1); // whatever\r\n        result.a = dehydrated.a;\r\n        result.b = dehydrated.b;\r\n        result.c = dehydrated.c;\r\n        return result;\r\n    }\r\n\r\n    /* The 2D zoom is stored as a 3x3 matrix in the form\r\n     * | a 0 b |\r\n     * | 0 a c |\r\n     * | 0 0 1 |\r\n     */\r\n    private a: number;\r\n    private b: number;\r\n    private c: number;\r\n\r\n    public constructor(center: IPoint, scaling: number) {\r\n        this.a = scaling;\r\n        this.b = center.x * (1 - scaling);\r\n        this.c = center.y * (1 - scaling);\r\n    }\r\n\r\n    public reset(): void {\r\n        this.a = 1;\r\n        this.b = 0;\r\n        this.c = 0;\r\n    }\r\n\r\n    public isNotNull(): boolean {\r\n        const isIdentity = (this.a === 1) && (this.b === 0) && (this.c === 0);\r\n        return !isIdentity;\r\n    }\r\n    public applyToPoint(point: IPoint): void {\r\n        point.x = this.a * point.x + this.b;\r\n        point.y = this.a * point.y + this.c;\r\n    }\r\n\r\n    public combineWith(other: Zoom): void {\r\n        /* Apply the other zoom after this zoom\r\n         * multiply the two matrices OTHER x THIS\r\n                        | a1 0  b1 |\r\n                        | 0  a1 c1 |\r\n                        | 0  0  1  |\r\n            | a2 0  b2 |\r\n            | 0  a2 c2 |\r\n            | 0  0  1  |\r\n         */\r\n        const newA = other.a * this.a;\r\n        const newB = other.a * this.b + other.b;\r\n        const newC = other.a * this.c + other.c;\r\n\r\n        this.a = newA;\r\n        this.b = newB;\r\n        this.c = newC;\r\n    }\r\n\r\n    public get scale(): number {\r\n        return this.a;\r\n    }\r\n\r\n    public get translate(): IPoint {\r\n        return { x: this.b, y: this.c };\r\n    }\r\n}\r\n\r\nexport {\r\n    Zoom,\r\n};\r\n","/* tslint:disable */\ndeclare namespace Page.Demopage {\r\n    function setErrorMessage(id: string, message: string): void;\r\n    function removeErrorMessage(id: string): void;\r\n}\r\n\ndeclare namespace Page.Helpers {\r\n    namespace URL {\r\n        function loopOnParameters(prefix: string, callback: (name: string, value: string) => unknown): void;\r\n        function setQueryParameter(prefix: string, name: string, value: string): void;\r\n        function removeQueryParameter(prefix: string, name: string): void;\r\n    }\r\n    namespace Events {\r\n        function callAfterDOMLoaded(callback: () => unknown): void;\r\n    }\r\n}\r\n\ndeclare namespace Page.Controls {\r\n    function setVisibility(id: string, visible: boolean): void;\r\n}\r\ndeclare namespace Page.Sections {\r\n    function setVisibility(id: string, visible: boolean): void;\r\n}\r\n\n\r\ndeclare namespace Page.Tabs {\r\n    type TabsObserver = (selectedValues: string[]) => unknown;\r\n    /**\r\n     * @return {boolean} Whether or not the observer was added\r\n     */\r\n    function addObserver(tabsId: string, observer: TabsObserver): boolean;\r\n    function getValues(tabsId: string): string[];\r\n    function setValues(tabsId: string, values: string[], updateURLStorage?: boolean): void;\r\n    function storeState(tabsId: string): void;\r\n    function clearStoredState(tabsIdd: string): void;\r\n}\r\n\n\r\ndeclare namespace Page.Range {\r\n    type RangeObserver = (rangeValue: number) => unknown;\r\n    /**\r\n     * Callback will be called every time the value changes.\r\n     * @return {boolean} Whether or not the observer was added\r\n     */\r\n    function addObserver(rangeId: string, observer: RangeObserver): boolean;\r\n    /**\r\n     * Callback will be called only when the value stops changing.\r\n     * @return {boolean} Whether or not the observer was added\r\n     */\r\n    function addLazyObserver(rangeId: string, observer: RangeObserver): boolean;\r\n    function getValue(rangeId: string): number | null;\r\n    function setValue(rangeId: string, value: number): void;\r\n    function storeState(rangeId: string): void;\r\n    function clearStoredState(rangeId: string): void;\r\n}\r\n\n\r\ndeclare namespace Page.Checkbox {\r\n    type CheckboxObserver = (isChecked: boolean) => unknown;\r\n    /**\r\n     * @return {boolean} Whether or not the observer was added\r\n     */\r\n    function addObserver(checkboxId: string, observer: CheckboxObserver): boolean;\r\n    function setChecked(checkboxId: string, value: boolean): void;\r\n    function isChecked(checkboxId: string): boolean;\r\n    function storeState(checkboxId: string): void;\r\n    function clearStoredState(checkboxId: string): void;\r\n}\r\n\ndeclare namespace Page.Button {\r\n    type ButtonObserver = () => unknown;\r\n    /**\r\n     * @return {boolean} Whether or not the observer was added\r\n     */\r\n    function addObserver(buttonId: string, observer: ButtonObserver): boolean;\r\n    function setLabel(buttonId: string, label: string): void;\r\n}\r\n\n\r\ndeclare namespace Page.ColorPicker {\r\n    namespace ColorSpace {\r\n        interface IRGB {\r\n            r: number;\r\n            g: number;\r\n            b: number;\r\n        }\r\n        interface IHSV {\r\n            h: number;\r\n            s: number;\r\n            v: number;\r\n        }\r\n        type Hexa = string;\r\n        function parseHexa(value: string): Hexa | null;\r\n        function hsvToRgb(hsv: IHSV): IRGB;\r\n        function rgbToHsv(rgb: IRGB): IHSV;\r\n        function rgbToHex(rgb: IRGB): Hexa;\r\n        function hexToRgb(hex: Hexa): IRGB;\r\n    }\r\n    export type OnChangeObserver = (newValue: ColorSpace.IRGB) => unknown;\r\n    export function addObserver(id: string, observer: OnChangeObserver): boolean;\r\n    export function getValue(id: string): ColorSpace.IRGB;\r\n    export function getValueHex(id: string): ColorSpace.Hexa;\r\n    /**\r\n     * @param id control id\r\n     * @param r integer in [0, 255]\r\n     * @param g integer in [0, 255]\r\n     * @param b integer in [0, 255]\r\n     */\r\n    export function setValue(id: string, r: number, g: number, b: number): void;\r\n    export function storeState(id: string): void;\r\n    export function clearStoredState(id: string): void;\r\n    export {};\r\n}\r\n\ndeclare namespace Page.FileControl {\r\n    type FileDownloadObserver = () => unknown;\r\n    type FileUploadObserver = (files: FileList) => unknown;\r\n    /**\r\n     * @return {boolean} Whether or not the observer was added\r\n     */\r\n    function addDownloadObserver(id: string, observer: FileDownloadObserver): boolean;\r\n    /**\r\n     * @return {boolean} Whether or not the observer was added\r\n     */\r\n    function addUploadObserver(uploadId: string, observer: FileUploadObserver): boolean;\r\n    function clearFileUpload(id: string): void;\r\n}\r\n\ndeclare namespace Page {\r\n    const version: string;\r\n}\r\n\n\r\ndeclare namespace Page.Canvas {\r\n    type CanvasResizeObserver = (newWidth: number, newHeight: number) => unknown;\r\n    type FullscreenObserver = (isFullscreen: boolean) => unknown;\r\n    type MouseDownObserver = () => unknown;\r\n    type MouseUpObserver = () => unknown;\r\n    type MouseDragObserver = (deltaX: number, deltaY: number) => unknown;\r\n    type MouseMoveObserver = (newX: number, newY: number) => unknown;\r\n    type MouseEnterObserver = () => unknown;\r\n    type MouseLeaveObserver = () => unknown;\r\n    type MouseWheelObserver = (delta: number, mousePosition: number[]) => unknown;\r\n    export const Observers: Readonly<{\r\n        canvasResize: CanvasResizeObserver[];\r\n        fullscreenToggle: FullscreenObserver[];\r\n        mouseDown: MouseDownObserver[];\r\n        mouseDrag: MouseDragObserver[];\r\n        mouseEnter: MouseEnterObserver[];\r\n        mouseLeave: MouseLeaveObserver[];\r\n        mouseMove: MouseMoveObserver[];\r\n        mouseWheel: MouseWheelObserver[];\r\n        mouseUp: MouseUpObserver[];\r\n    }>;\r\n    export function getAspectRatio(): number;\r\n    export function getCanvas(): HTMLCanvasElement | null;\r\n    export function getCanvasContainer(): HTMLElement | null;\r\n    export function getSize(): number[];\r\n    export function getMousePosition(): number[];\r\n    export function isFullScreen(): boolean;\r\n    export function isMouseDown(): boolean;\r\n    export function setIndicatorText(id: string, text: string): void;\r\n    export function setIndicatorVisibility(id: string, visible: boolean): void;\r\n    export function setIndicatorsVisibility(visible: boolean): void;\r\n    export function setMaxSize(newMaxWidth: number, newMaxHeight: number): void;\r\n    export function setResizable(resizable: boolean): void;\r\n    export function setLoaderText(text: string): void;\r\n    export function showLoader(show: boolean): void;\r\n    export function toggleFullscreen(fullscreen: boolean): void;\r\n    export {};\r\n}\r\n\n","let nextFreeId = 0;\r\n\r\nclass GeometryId {\r\n    public static new(): GeometryId {\r\n        return new GeometryId(nextFreeId++, 0);\r\n    }\r\n\r\n    public copy(): GeometryId {\r\n        return new GeometryId(this.id, this.version);\r\n    }\r\n\r\n    public isSameAs(other: GeometryId): boolean {\r\n        return other !== null && this.id === other.id && this.version === other.version;\r\n    }\r\n\r\n    public registerChange(): void {\r\n        this.version++;\r\n    }\r\n\r\n    private constructor(\r\n        private readonly id: number,\r\n        private version: number\r\n    ) { }\r\n}\r\n\r\nexport {\r\n    GeometryId,\r\n};\r\n","import { Color } from \"../misc/color\";\r\nimport { Zoom } from \"../misc/zoom\";\r\nimport { IPlotter } from \"./plotter-interface\";\r\nimport { BatchOfLines, BatchOfPolygons } from \"./types\";\r\n\r\n\r\nclass PlotterSVG implements IPlotter {\r\n    private lines: string[] = [];\r\n\r\n    public constructor(\r\n        private readonly width: number,\r\n        private readonly height: number) {\r\n    }\r\n\r\n    public initialize(backgroundColor: Color, zoom: Zoom, scaling: number): void {\r\n        this.lines = [];\r\n\r\n        this.lines.push(`<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?>`);\r\n        this.lines.push(`<svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" viewBox=\"0 0 ${this.width} ${this.height}\">`);\r\n        this.lines.push(`<rect fill=\"${backgroundColor.toHexaString()}\" stroke=\"none\" x=\"0\" y=\"0\" width=\"${this.width}\" height=\"${this.height}\"/>`);\r\n        this.lines.push(`\\t<g transform=\"scale(${scaling})\" transform-origin=\"${0.5 * this.width} ${0.5 * this.height}\">`);\r\n\r\n        const zoomTranslate = zoom.translate;\r\n        this.lines.push(`\\t\\t<g transform=\"translate(${zoomTranslate.x}, ${zoomTranslate.y})\">`);\r\n        this.lines.push(`\\t\\t\\t<g transform=\"scale(${zoom.scale})\" transform-origin=\"${0.5 * this.width} ${0.5 * this.height}\">`);\r\n    }\r\n\r\n    public finalize(): void {\r\n        this.lines.push(`\\t\\t\\t</g>`);\r\n        this.lines.push(`\\t\\t</g>`);\r\n        this.lines.push(`\\t</g>`);\r\n        this.lines.push(`</svg>`);\r\n    }\r\n\r\n    public drawLines(batchOfLines: BatchOfLines, thickness: number, color: Color, alpha: number): void {\r\n        if (alpha > 0 && batchOfLines) {\r\n            this.lines.push(`\\t\\t\\t\\t<g stroke=\"${color.toHexaString()}\" fill=\"none\" opacity=\"${alpha}\">`);\r\n\r\n            const halfWidth = 0.5 * this.width;\r\n            const halfHeight = 0.5 * this.height;\r\n            for (const line of batchOfLines.items) {\r\n                const path: string[] = [];\r\n\r\n                if (line.length >= 2) {\r\n                    path.push(`M${line[0].x + halfWidth} ${line[0].y + halfHeight}`);\r\n\r\n                    for (let iP = 1; iP < line.length; iP++) {\r\n                        path.push(`L${line[iP].x + halfWidth} ${line[iP].y + halfHeight}`);\r\n                    }\r\n                }\r\n\r\n                if (path.length > 0) {\r\n                    this.lines.push(`\\t\\t\\t\\t\\t<path stroke-width=\"${thickness}\" d=\"${path.join()}\"/>`);\r\n                }\r\n            }\r\n            this.lines.push(`\\t\\t\\t\\t</g>`);\r\n        }\r\n    }\r\n\r\n    public drawPolygons(batchOfPolygons: BatchOfPolygons, alpha: number): void {\r\n        if (alpha > 0 && batchOfPolygons) {\r\n            this.lines.push(`\\t\\t\\t\\t<g stroke=\"none\" opacity=\"${alpha}\">`);\r\n\r\n            const halfWidth = 0.5 * this.width;\r\n            const halfHeight = 0.5 * this.height;\r\n            for (const polygon of batchOfPolygons.items) {\r\n                if (polygon.vertices.length >= 3) {\r\n                    const path: string[] = [];\r\n\r\n                    if (polygon.vertices.length >= 3) {\r\n                        path.push(`M${polygon.vertices[0].x + halfWidth} ${polygon.vertices[0].y + halfHeight}`);\r\n                        for (let iP = 1; iP < polygon.vertices.length; iP++) {\r\n                            path.push(`L${polygon.vertices[iP].x + halfWidth} ${polygon.vertices[iP].y + halfHeight}`);\r\n                        }\r\n                    }\r\n\r\n                    if (path.length > 0) {\r\n                        this.lines.push(`\\t\\t\\t\\t\\t<path fill=\"${polygon.color.toHexaString()}\" d=\"${path.join()}\"/>`);\r\n                    }\r\n                }\r\n            }\r\n            this.lines.push(`\\t\\t\\t\\t</g>`);\r\n        }\r\n    }\r\n\r\n    public output(): string {\r\n        return this.lines.join(\"\\n\");\r\n    }\r\n}\r\n\r\nexport {\r\n    PlotterSVG,\r\n};\r\n\r\n","import { TreeNode } from \"../engine/tree-node\";\r\nimport { Color } from \"../misc/color\";\r\nimport { IPoint } from \"../misc/point\";\r\nimport { Rectangle } from \"../misc/rectangle\";\r\nimport { Zoom } from \"../misc/zoom\";\r\nimport { IPolygon } from \"../plotter/types\";\r\nimport { EPrimitiveType } from \"./primitive-type-enum\";\r\n\r\n\r\ntype Line = IPoint[];\r\n\r\nenum EVisibility {\r\n    OUT_OF_VIEW,\r\n    VISIBLE,\r\n    COVERS_VIEW,\r\n}\r\n\r\nabstract class PrimitiveBase extends TreeNode implements IPolygon {\r\n    public abstract readonly primitiveType: EPrimitiveType;\r\n\r\n    public subdivision: Line | null = null;\r\n    protected _color: Color;\r\n\r\n    /* Returns how many children are created when subdivided */\r\n    public abstract get subdivisionFactor(): number;\r\n\r\n    protected constructor(color: Color) {\r\n        super();\r\n        this._color = color;\r\n    }\r\n\r\n    public setColor(color: Color, childrenColorVariation: number): void {\r\n        this._color = color;\r\n\r\n        const children = this.getDirectChildren() as PrimitiveBase[];\r\n        for (const child of children) {\r\n            const childColor = this.color.computeCloseColor(childrenColorVariation);\r\n            child.setColor(childColor, childrenColorVariation);\r\n        }\r\n    }\r\n\r\n    public get color(): Color {\r\n        return this._color;\r\n    }\r\n\r\n    public removeChildren(): void {\r\n        super.removeChildren();\r\n        this.subdivision = null;\r\n    }\r\n\r\n    public getOutline(): Line {\r\n        const result = this.vertices;\r\n        result.push(result[0]);\r\n        return result;\r\n    }\r\n\r\n    public zoom(zoom: Zoom, isRoot: boolean): void {\r\n        this.applyZoom(zoom, isRoot);\r\n\r\n        const children = this.getDirectChildren() as PrimitiveBase[];\r\n        for (const child of children) {\r\n            child.zoom(zoom, false);\r\n        }\r\n    }\r\n\r\n    public abstract subdivide(subdivisionBalance: number, childrenColorVariation: number): void;\r\n    public abstract get vertices(): IPoint[];\r\n\r\n    protected abstract applyZoom(zoom: Zoom, isRoot: boolean): void;\r\n    public abstract computeVisibility(viewport: Rectangle): EVisibility;\r\n}\r\n\r\nexport {\r\n    EVisibility,\r\n    PrimitiveBase,\r\n};\r\n\r\n","import * as Arithmetics from \"../misc/arithmetics\";\r\nimport { Color } from \"../misc/color\";\r\nimport { IPoint } from \"../misc/point\";\r\nimport { Rectangle } from \"../misc/rectangle\";\r\nimport { Zoom } from \"../misc/zoom\";\r\nimport { EVisibility, PrimitiveBase } from \"./primitive-base\";\r\nimport { EPrimitiveType } from \"./primitive-type-enum\";\r\n\r\n\r\nclass PrimitiveQuads extends PrimitiveBase {\r\n    public readonly primitiveType: EPrimitiveType = EPrimitiveType.QUADS;\r\n\r\n    public constructor(\r\n        private readonly topLeft: IPoint,\r\n        private readonly topRight: IPoint,\r\n        private readonly bottomLeft: IPoint,\r\n        private readonly bottomRight: IPoint,\r\n        color: Color) {\r\n        super(color);\r\n    }\r\n\r\n    public get subdivisionFactor(): number {\r\n        return 2;\r\n    }\r\n\r\n    public subdivide(subdivisionBalance: number, childrenColorVariation: number): void {\r\n        this.removeChildren();\r\n\r\n        const minRand = 0.5 * subdivisionBalance;\r\n        const maxRand = 1 - minRand;\r\n        const rand1 = Arithmetics.random(minRand, maxRand);\r\n        const rand2 = Arithmetics.random(minRand, maxRand);\r\n\r\n        const leftToRightDistance = Math.max(Arithmetics.squaredDistance(this.topLeft, this.topRight), Arithmetics.squaredDistance(this.bottomLeft, this.bottomRight));\r\n        const topToBottomDistance = Math.max(Arithmetics.squaredDistance(this.topLeft, this.bottomLeft), Arithmetics.squaredDistance(this.topRight, this.bottomRight));\r\n\r\n        if (leftToRightDistance > topToBottomDistance) { // current is more wide than tall => subdivide vertically\r\n            this.subdivision = [\r\n                Arithmetics.interpolatePoint(this.topLeft, this.topRight, rand1),\r\n                Arithmetics.interpolatePoint(this.bottomLeft, this.bottomRight, rand2),\r\n            ];\r\n\r\n            this.addChildren(\r\n                new PrimitiveQuads(this.topLeft, this.subdivision[0], this.bottomLeft, this.subdivision[1], this.color.computeCloseColor(childrenColorVariation)),\r\n                new PrimitiveQuads(this.subdivision[0], this.topRight, this.subdivision[1], this.bottomRight, this.color.computeCloseColor(childrenColorVariation))\r\n            );\r\n        } else { // current is more tall than wide => subdivide horizontally\r\n            this.subdivision = [\r\n                Arithmetics.interpolatePoint(this.topLeft, this.bottomLeft, rand1),\r\n                Arithmetics.interpolatePoint(this.topRight, this.bottomRight, rand2),\r\n            ];\r\n\r\n            this.addChildren(\r\n                new PrimitiveQuads(this.topLeft, this.topRight, this.subdivision[0], this.subdivision[1], this.color.computeCloseColor(childrenColorVariation)),\r\n                new PrimitiveQuads(this.subdivision[0], this.subdivision[1], this.bottomLeft, this.bottomRight, this.color.computeCloseColor(childrenColorVariation))\r\n            );\r\n        }\r\n    }\r\n\r\n    public get vertices(): IPoint[] {\r\n        return [this.topLeft, this.topRight, this.bottomRight, this.bottomLeft];\r\n    }\r\n\r\n    protected applyZoom(zoom: Zoom, isRoot: boolean): void {\r\n        if (isRoot) {\r\n            zoom.applyToPoint(this.topLeft);\r\n            zoom.applyToPoint(this.topRight);\r\n            zoom.applyToPoint(this.bottomLeft);\r\n            zoom.applyToPoint(this.bottomRight);\r\n        }\r\n\r\n        if (this.subdivision) {\r\n            for (const point of this.subdivision) {\r\n                zoom.applyToPoint(point);\r\n            }\r\n        }\r\n    }\r\n\r\n    public computeVisibility(viewport: Rectangle): EVisibility {\r\n        const viewportTopRight: IPoint = { x: viewport.bottomRight.x, y: viewport.topLeft.y };\r\n        const viewportBottomLeft: IPoint = { x: viewport.topLeft.x, y: viewport.bottomRight.y };\r\n\r\n        const viewTopLeftInside = this.isInside(viewport.topLeft);\r\n        const viewTopRightInside = this.isInside(viewportTopRight);\r\n        const viewBottomLeftInside = this.isInside(viewportBottomLeft);\r\n        const viewBottomRightInside = this.isInside(viewport.bottomRight);\r\n\r\n        if (viewTopLeftInside && viewTopRightInside && viewBottomLeftInside && viewBottomRightInside) {\r\n            // the shape is convex so if all points are in view, the whole shape is in view\r\n            return EVisibility.COVERS_VIEW;\r\n        } else if (viewTopLeftInside || viewTopRightInside || viewBottomLeftInside || viewBottomRightInside) {\r\n            return EVisibility.VISIBLE;\r\n        } else if (viewport.containsPoint(this.topLeft) || viewport.containsPoint(this.topRight) ||\r\n            viewport.containsPoint(this.bottomLeft) || viewport.containsPoint(this.bottomRight)) {\r\n            return EVisibility.VISIBLE;\r\n        } else if (viewport.lineIntersectsBoundaries(this.topLeft, this.topRight) ||\r\n            viewport.lineIntersectsBoundaries(this.topRight, this.bottomRight) ||\r\n            viewport.lineIntersectsBoundaries(this.bottomRight, this.bottomLeft) ||\r\n            viewport.lineIntersectsBoundaries(this.bottomLeft, this.topLeft)) {\r\n            return EVisibility.VISIBLE;\r\n        } else {\r\n            return EVisibility.OUT_OF_VIEW;\r\n        }\r\n    }\r\n\r\n    private isInside(point: IPoint): boolean {\r\n        const SIDE_TL_TR = Arithmetics.getSide(this.topLeft, this.topRight, point);\r\n        const SIDE_TR_BL = Arithmetics.getSide(this.topRight, this.bottomLeft, point);\r\n        const SIDE_BL_TL = Arithmetics.getSide(this.bottomLeft, this.topLeft, point);\r\n\r\n        if (Arithmetics.areSameSign(SIDE_TL_TR, SIDE_TR_BL, SIDE_BL_TL)) {\r\n            return true;\r\n        }\r\n\r\n        const SIDE_BL_BR = Arithmetics.getSide(this.bottomLeft, this.bottomRight, point);\r\n        const SIDE_BR_TR = Arithmetics.getSide(this.bottomRight, this.topRight, point);\r\n\r\n        if (Arithmetics.areSameSign(SIDE_TR_BL, SIDE_BL_BR, SIDE_BR_TR)) {\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n}\r\n\r\nexport {\r\n    PrimitiveQuads,\r\n};\r\n\r\n","import * as Arithmetics from \"../misc/arithmetics\";\r\nimport { Color } from \"../misc/color\";\r\nimport { IPoint } from \"../misc/point\";\r\nimport { Zoom } from \"../misc/zoom\";\r\nimport { PrimitiveTriangles } from \"./primitive-triangles\";\r\nimport { EPrimitiveType } from \"./primitive-type-enum\";\r\n\r\n\r\nclass PrimitiveTrianglesNested extends PrimitiveTriangles {\r\n    public readonly primitiveType: EPrimitiveType = EPrimitiveType.NESTED_TRIANGLES;\r\n\r\n    protected midPoint1: IPoint;\r\n    protected midPoint2: IPoint;\r\n    protected midPoint3: IPoint;\r\n\r\n    public constructor(p1: IPoint, p2: IPoint, p3: IPoint, color: Color) {\r\n        super(p1, p2, p3, color);\r\n    }\r\n\r\n    public get subdivisionFactor(): number {\r\n        return 4;\r\n    }\r\n\r\n    public subdivide(subdivisionBalance: number, childrenColorVariation: number): void {\r\n        this.removeChildren();\r\n\r\n        this.midPoint1 = this.randomNewPoint(this.p1, this.p2, subdivisionBalance);\r\n        this.midPoint2 = this.randomNewPoint(this.p2, this.p3, subdivisionBalance);\r\n        this.midPoint3 = this.randomNewPoint(this.p3, this.p1, subdivisionBalance);\r\n\r\n        this.subdivision = [\r\n            this.midPoint1,\r\n            this.midPoint2,\r\n            this.midPoint3,\r\n            this.midPoint1,\r\n        ];\r\n\r\n        this.addChildren(\r\n            new PrimitiveTrianglesNested(this.midPoint1, this.midPoint2, this.midPoint3, this.color.computeCloseColor(childrenColorVariation)),\r\n            new PrimitiveTrianglesNested(this.p1, this.midPoint1, this.midPoint3, this.color.computeCloseColor(childrenColorVariation)),\r\n            new PrimitiveTrianglesNested(this.p2, this.midPoint2, this.midPoint1, this.color.computeCloseColor(childrenColorVariation)),\r\n            new PrimitiveTrianglesNested(this.p3, this.midPoint3, this.midPoint2, this.color.computeCloseColor(childrenColorVariation)),\r\n        );\r\n    }\r\n\r\n    protected applyZoom(zoom: Zoom, isRoot: boolean): void {\r\n        if (isRoot) {\r\n            zoom.applyToPoint(this.p1);\r\n            zoom.applyToPoint(this.p2);\r\n            zoom.applyToPoint(this.p3);\r\n        }\r\n\r\n        if (this.subdivision) {\r\n            zoom.applyToPoint(this.midPoint1);\r\n            zoom.applyToPoint(this.midPoint2);\r\n            zoom.applyToPoint(this.midPoint3);\r\n        }\r\n    }\r\n\r\n    private randomNewPoint(p1: IPoint, p2: IPoint, range: number): IPoint {\r\n        const r = Arithmetics.random(0.5 - 0.5 * range, 0.5 + 0.5 * range);\r\n        return {\r\n            x: p1.x * (1 - r) + p2.x * r,\r\n            y: p1.y * (1 - r) + p2.y * r,\r\n        };\r\n    }\r\n}\r\n\r\nexport { PrimitiveTrianglesNested };\r\n\r\n","import * as Arithmetics from \"../misc/arithmetics\";\r\nimport { Color } from \"../misc/color\";\r\nimport { IPoint } from \"../misc/point\";\r\nimport { Rectangle } from \"../misc/rectangle\";\r\nimport { Zoom } from \"../misc/zoom\";\r\nimport { EVisibility, PrimitiveBase } from \"./primitive-base\";\r\nimport { EPrimitiveType } from \"./primitive-type-enum\";\r\n\r\n\r\nclass PrimitiveTriangles extends PrimitiveBase {\r\n    public readonly primitiveType: EPrimitiveType = EPrimitiveType.TRIANGLES;\r\n\r\n    public constructor(\r\n        protected readonly p1: IPoint,\r\n        protected readonly p2: IPoint,\r\n        protected readonly p3: IPoint,\r\n        color: Color) {\r\n        super(color);\r\n    }\r\n\r\n    public get subdivisionFactor(): number {\r\n        return 2;\r\n    }\r\n\r\n    public subdivide(subdivisionBalance: number, childrenColorVariation: number): void {\r\n        this.removeChildren();\r\n\r\n        const subdivideInternal = (sourcePoint: IPoint, otherPoint1: IPoint, otherPoint2: IPoint) => {\r\n            const minRand = 0.5 * subdivisionBalance;\r\n            const maxRand = 1 - minRand;\r\n            const rand = Arithmetics.random(minRand, maxRand);\r\n\r\n            this.subdivision = [\r\n                sourcePoint,\r\n                Arithmetics.interpolatePoint(otherPoint1, otherPoint2, rand),\r\n            ];\r\n\r\n            this.addChildren(\r\n                new PrimitiveTriangles(sourcePoint, otherPoint1, this.subdivision[1], this.color.computeCloseColor(childrenColorVariation)),\r\n                new PrimitiveTriangles(sourcePoint, this.subdivision[1], otherPoint2, this.color.computeCloseColor(childrenColorVariation))\r\n            );\r\n        };\r\n\r\n        const distance12 = Arithmetics.squaredDistance(this.p1, this.p2);\r\n        const distance23 = Arithmetics.squaredDistance(this.p2, this.p3);\r\n        const distance31 = Arithmetics.squaredDistance(this.p3, this.p1);\r\n\r\n        if (distance12 > distance23 && distance12 > distance31) {\r\n            subdivideInternal(this.p3, this.p1, this.p2);\r\n        } else if (distance23 > distance12 && distance23 > distance31) {\r\n            subdivideInternal(this.p1, this.p2, this.p3);\r\n        } else {\r\n            subdivideInternal(this.p2, this.p3, this.p1);\r\n        }\r\n    }\r\n\r\n    public get vertices(): IPoint[] {\r\n        return [this.p1, this.p2, this.p3];\r\n    }\r\n\r\n    protected applyZoom(zoom: Zoom, isRoot: boolean): void {\r\n        if (isRoot) {\r\n            zoom.applyToPoint(this.p1);\r\n            zoom.applyToPoint(this.p2);\r\n            zoom.applyToPoint(this.p3);\r\n        }\r\n\r\n        if (this.subdivision) {\r\n            zoom.applyToPoint(this.subdivision[1]);\r\n        }\r\n    }\r\n\r\n    public computeVisibility(viewport: Rectangle): EVisibility {\r\n        const viewportTopRight: IPoint = { x: viewport.bottomRight.x, y: viewport.topLeft.y };\r\n        const viewportBottomLeft: IPoint = { x: viewport.topLeft.x, y: viewport.bottomRight.y };\r\n\r\n        const viewTopLeftInside = this.isInside(viewport.topLeft);\r\n        const viewTopRightInside = this.isInside(viewportTopRight);\r\n        const viewBottomLeftInside = this.isInside(viewportBottomLeft);\r\n        const viewBottomRightInside = this.isInside(viewport.bottomRight);\r\n\r\n        if (viewTopLeftInside && viewTopRightInside && viewBottomLeftInside && viewBottomRightInside) {\r\n            // the shape is convex so if all points are in view, the whole shape is in view\r\n            return EVisibility.COVERS_VIEW;\r\n        } else if (viewTopLeftInside || viewTopRightInside || viewBottomLeftInside || viewBottomRightInside) {\r\n            return EVisibility.VISIBLE;\r\n        } else if (viewport.containsPoint(this.p1) || viewport.containsPoint(this.p2) || viewport.containsPoint(this.p3)) {\r\n            return EVisibility.VISIBLE;\r\n        } else if (viewport.lineIntersectsBoundaries(this.p1, this.p2) ||\r\n            viewport.lineIntersectsBoundaries(this.p2, this.p3) ||\r\n            viewport.lineIntersectsBoundaries(this.p3, this.p1)) {\r\n            return EVisibility.VISIBLE;\r\n        } else {\r\n            return EVisibility.OUT_OF_VIEW;\r\n        }\r\n    }\r\n\r\n    private isInside(point: IPoint): boolean {\r\n        const SIDE_1_2 = Arithmetics.getSide(this.p1, this.p2, point);\r\n        const SIDE_2_3 = Arithmetics.getSide(this.p2, this.p3, point);\r\n        const SIDE_3_1 = Arithmetics.getSide(this.p3, this.p1, point);\r\n\r\n        return Arithmetics.areSameSign(SIDE_1_2, SIDE_2_3, SIDE_3_1);\r\n    }\r\n}\r\n\r\nexport { PrimitiveTriangles };\r\n\r\n","enum EPrimitiveType {\r\n    QUADS = \"quads\",\r\n    TRIANGLES = \"triangles\",\r\n    NESTED_TRIANGLES = \"triangles-nested\",\r\n}\r\n\r\nexport { EPrimitiveType };\r\n","import * as NewMetrics from \"./new-metrics\";\r\nimport * as NewSvgOutput from \"./new-svg-output\";\r\n\r\nexport {\r\n    NewMetrics,\r\n    NewSvgOutput,\r\n};\r\n\r\n","import { IEngineMetrics } from \"../../../engine/engine-metrics\";\r\nimport { addListenerToWorker, EVerb, sendMessageFromWorker } from \"../message\";\r\n\r\n\r\nconst verb = EVerb.NEW_METRICS;\r\n\r\ninterface IMessageData {\r\n    readonly engineMetrics: IEngineMetrics;\r\n}\r\n\r\nfunction sendMessage(engineMetrics: IEngineMetrics): void {\r\n    const messageData: IMessageData = {\r\n        engineMetrics,\r\n    };\r\n\r\n    sendMessageFromWorker(verb, messageData);\r\n}\r\n\r\nfunction addListener(worker: Worker, listener: (engineMetrics: IEngineMetrics) => unknown): void {\r\n    addListenerToWorker(worker, verb, (data: IMessageData) => {\r\n        listener(data.engineMetrics);\r\n    });\r\n}\r\n\r\nexport {\r\n    addListener,\r\n    sendMessage,\r\n};\r\n","import { addListenerToWorker, EVerb, sendMessageFromWorker } from \"../message\";\r\n\r\n\r\nconst verb = EVerb.NEW_SVG_OUTPUT;\r\n\r\ninterface IMessageData {\r\n    readonly output: string;\r\n}\r\n\r\nfunction sendMessage(output: string): void {\r\n    const messageData: IMessageData = {\r\n        output,\r\n    };\r\n\r\n    sendMessageFromWorker(verb, messageData);\r\n}\r\n\r\nfunction addListener(worker: Worker, listener: (output: string) => unknown): void {\r\n    addListenerToWorker(worker, verb, (data: IMessageData) => {\r\n        listener(data.output);\r\n    });\r\n}\r\n\r\nexport {\r\n    addListener,\r\n    sendMessage,\r\n};\r\n\r\n","enum EVerb {\r\n    RESET = \"reset\",\r\n    RECOMPUTE_COLORS = \"recopute-colors\",\r\n    DOWNLOAD_AS_SVG = \"download-svg\",\r\n    UPDATE = \"update\",\r\n    NEW_METRICS = \"new-metrics\",\r\n    NEW_SVG_OUTPUT = \"new-svg-output\",\r\n}\r\n\r\ninterface IMessageData<TData> {\r\n    verb: EVerb;\r\n    data: TData;\r\n}\r\n\r\nfunction sendMessage<TData>(target: any, verb: EVerb, data: TData): void {\r\n    const messageData: IMessageData<TData> = {\r\n        verb,\r\n        data,\r\n    };\r\n    target.postMessage(messageData);\r\n}\r\n\r\nfunction addListener<TData>(context: any, verb: EVerb, callback: (data: TData) => unknown): void {\r\n    context.addEventListener(\"message\", (event: MessageEvent) => {\r\n        if (event && event.data.verb === verb) {\r\n            callback(event.data.data);\r\n        }\r\n    });\r\n}\r\n\r\nfunction sendMessageToWorker<TData>(worker: Worker, verb: EVerb, data: TData): void {\r\n    sendMessage<TData>(worker, verb, data);\r\n}\r\nfunction addListenerToWorker<TData>(worker: Worker, verb: EVerb, callback: (data: TData) => unknown): void {\r\n    addListener<TData>(worker, verb, callback);\r\n}\r\n\r\nfunction sendMessageFromWorker<TData>(verb: EVerb, data: TData): void {\r\n    sendMessage<TData>(self, verb, data);\r\n}\r\nfunction addListenerFromWorker<TData>(verb: EVerb, callback: (data: TData) => unknown): void {\r\n    addListener<TData>(self as any, verb, callback);\r\n}\r\n\r\nexport {\r\n    addListenerFromWorker,\r\n    addListenerToWorker,\r\n    EVerb,\r\n    sendMessageFromWorker,\r\n    sendMessageToWorker,\r\n};\r\n\r\n","import { Color } from \"../../../misc/color\";\r\nimport { addListenerFromWorker, EVerb, sendMessageToWorker } from \"../message\";\r\n\r\n\r\nconst verb = EVerb.DOWNLOAD_AS_SVG;\r\n\r\ninterface IMessageData {\r\n    readonly width: number;\r\n    readonly height: number;\r\n    readonly scaling: number;\r\n    readonly backgroundColor: Color;\r\n    readonly linesColor?: Color;\r\n}\r\n\r\nfunction sendMessage(worker: Worker, width: number, height: number, scaling: number, backgroundColor: Color, linesColor?: Color): void {\r\n    const messageData: IMessageData = {\r\n        width,\r\n        height,\r\n        scaling,\r\n        backgroundColor,\r\n        linesColor,\r\n    };\r\n\r\n    sendMessageToWorker(worker, verb, messageData);\r\n}\r\n\r\nfunction addListener(listener: (width: number, height: number, scaling: number, backgroundColor: Color, linesColor?: Color) => unknown): void {\r\n    addListenerFromWorker(verb, (data: IMessageData) => {\r\n        const backgroundColor = Color.rehydrate(data.backgroundColor);\r\n        let linesColor;\r\n        if (data.linesColor) {\r\n            linesColor = Color.rehydrate(data.linesColor);\r\n        }\r\n        listener(data.width, data.height,  data.scaling, backgroundColor, linesColor);\r\n    });\r\n}\r\n\r\nexport {\r\n    addListener,\r\n    sendMessage,\r\n};\r\n\r\n","import * as DownloadAsSvg from \"./download-as-svg-message\";\r\nimport * as RecomputeColors from \"./recompute-color-message\";\r\nimport * as Reset from \"./reset-message\";\r\nimport * as Update from \"./update-message\";\r\n\r\n\r\nexport {\r\n    DownloadAsSvg,\r\n    RecomputeColors,\r\n    Reset,\r\n    Update,\r\n};\r\n\r\n","import { addListenerFromWorker, EVerb, sendMessageToWorker } from \"../message\";\r\n\r\n\r\nconst verb = EVerb.RECOMPUTE_COLORS;\r\n\r\ninterface IMessageData  {\r\n    readonly colorVariation: number;\r\n}\r\n\r\nfunction sendMessage(worker: Worker, colorVariation: number): void {\r\n    const messageData: IMessageData = {\r\n        colorVariation,\r\n    };\r\n\r\n   sendMessageToWorker(worker, verb, messageData);\r\n}\r\n\r\nfunction addListener(listener: (colorVariation: number) => unknown): void {\r\n    addListenerFromWorker(verb, (data: IMessageData) => {\r\n        listener(data.colorVariation);\r\n    });\r\n}\r\n\r\nexport {\r\n    addListener,\r\n    sendMessage,\r\n};\r\n\r\n","import { Rectangle } from \"../../../misc/rectangle\";\r\nimport { EPrimitiveType } from \"../../../primitives/primitive-type-enum\";\r\nimport { addListenerFromWorker, EVerb, sendMessageToWorker } from \"../message\";\r\n\r\n\r\nconst verb = EVerb.RESET;\r\n\r\ninterface IMessageData {\r\n    readonly viewport: Rectangle;\r\n    readonly primitiveType: EPrimitiveType;\r\n}\r\n\r\nfunction sendMessage(worker: Worker, viewport: Rectangle, primitiveType: EPrimitiveType): void {\r\n    const messageData: IMessageData = {\r\n        viewport,\r\n        primitiveType,\r\n    };\r\n\r\n    sendMessageToWorker(worker, verb, messageData);\r\n}\r\n\r\nfunction addListener(listener: (viewport: Rectangle, primitiveType: EPrimitiveType) => unknown): void {\r\n    addListenerFromWorker(verb, (data: IMessageData) => {\r\n        const viewport = Rectangle.rehydrate(data.viewport);\r\n        listener(viewport, data.primitiveType);\r\n    });\r\n}\r\n\r\nexport {\r\n    addListener,\r\n    sendMessage,\r\n};\r\n\r\n","import { Rectangle } from \"../../../misc/rectangle\";\r\nimport { Zoom } from \"../../../misc/zoom\";\r\nimport { addListenerFromWorker, EVerb, sendMessageToWorker } from \"../message\";\r\n\r\n\r\nconst verb = EVerb.UPDATE;\r\n\r\ninterface IMessageData {\r\n    readonly viewport: Rectangle;\r\n    readonly instantZoom: Zoom;\r\n    readonly wantedDepth: number;\r\n    readonly subdivisionBalance: number;\r\n    readonly colorVariation: number;\r\n}\r\n\r\nfunction sendMessage(worker: Worker, viewport: Rectangle, instantZoom: Zoom, wantedDepth: number, subdivisionBalance: number, colorVariation: number): void {\r\n    const messageData: IMessageData = {\r\n        viewport,\r\n        instantZoom,\r\n        wantedDepth,\r\n        subdivisionBalance,\r\n        colorVariation,\r\n    };\r\n\r\n    sendMessageToWorker(worker, verb, messageData);\r\n}\r\n\r\nfunction addListener(listener: (viewport: Rectangle, instantZoom: Zoom, wantedDepth: number, subdivisionBalance: number, colorVariation: number) => unknown): void {\r\n    addListenerFromWorker(verb, (data: IMessageData) => {\r\n        const viewport = Rectangle.rehydrate(data.viewport);\r\n        const instantZoom = Zoom.rehydrate(data.instantZoom);\r\n\r\n        listener(viewport, instantZoom, data.wantedDepth, data.subdivisionBalance, data.colorVariation);\r\n    });\r\n}\r\n\r\nexport {\r\n    addListener,\r\n    sendMessage,\r\n};\r\n\r\n","import { Engine } from \"../engine/engine\";\r\nimport { Color } from \"../misc/color\";\r\nimport { PlotterSVG } from \"../plotter/plotter-svg\";\r\nimport * as MessagesToMain from \"./messages/from-worker/messages\";\r\n\r\n\r\nclass WorkerEngine extends Engine {\r\n    public downloadAsSvg(width: number, height: number, scaling: number, backgroundColor: Color, linesColor?: Color): void {\r\n        const svgOutput = this.drawAsSvg(width, height, scaling, backgroundColor, linesColor);\r\n        MessagesToMain.NewSvgOutput.sendMessage(svgOutput);\r\n    }\r\n\r\n    protected updateIndicators(): void {\r\n        const metrics = this.computeMetrics();\r\n        MessagesToMain.NewMetrics.sendMessage(metrics);\r\n    }\r\n\r\n    private drawAsSvg(width: number, height: number, scaling: number, backgroundColor: Color, linesColor?: Color): string {\r\n        const svgPlotter = new PlotterSVG(width, height);\r\n        svgPlotter.initialize(backgroundColor, this.cumulatedZoom, scaling);\r\n\r\n        svgPlotter.drawPolygons(this.layers[this.layers.length - 1].primitives, 1);\r\n\r\n        if (linesColor) {\r\n            for (const layer of this.layers) {\r\n                svgPlotter.drawLines(layer.outlines, 1, linesColor, 1);\r\n            }\r\n        }\r\n\r\n        svgPlotter.finalize();\r\n        return svgPlotter.output();\r\n    }\r\n}\r\n\r\nexport {\r\n    WorkerEngine,\r\n};\r\n\r\n","import { Color } from \"../misc/color\";\r\nimport { Rectangle } from \"../misc/rectangle\";\r\nimport { Zoom } from \"../misc/zoom\";\r\nimport { EPrimitiveType } from \"../primitives/primitive-type-enum\";\r\nimport * as MessagesFromMain from \"./messages/to-worker/messages\";\r\nimport { WorkerEngine } from \"./worker-engine\";\r\n\r\n\r\nconst engine = new WorkerEngine();\r\n\r\nMessagesFromMain.Update.addListener((viewport: Rectangle, instantZoom: Zoom, wantedDepth: number, subdivisionBalance: number, colorVariation: number) => {\r\n    engine.update(viewport, instantZoom, wantedDepth, subdivisionBalance, colorVariation);\r\n});\r\n\r\nMessagesFromMain.Reset.addListener((viewport: Rectangle, primitiveType: EPrimitiveType) => {\r\n    engine.reset(viewport, primitiveType);\r\n});\r\n\r\nMessagesFromMain.RecomputeColors.addListener((colorVariation: number) => {\r\n    engine.recomputeColors(colorVariation);\r\n});\r\n\r\nMessagesFromMain.DownloadAsSvg.addListener((width: number, height: number, scaling: number, backgroundColor: Color, linesColor?: Color) => {\r\n    engine.downloadAsSvg(width, height, scaling, backgroundColor, linesColor);\r\n});\r\n\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(\"./src/ts/worker/worker.ts\");\n",""],"names":[],"sourceRoot":""}